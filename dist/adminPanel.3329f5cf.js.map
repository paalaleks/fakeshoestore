{"mappings":"AAMO,SAASA,IACd,OAAOC,EAPQ,SA2BV,SAASA,EAAeC,GAC7B,MAAMC,EAAQC,aAAaC,QAAQH,GAEnC,OAAKC,EAGEG,KAAKC,MAAMJ,GAFT,GC/BJ,MCGDK,EAAWC,SAASC,cAAc,cAElCC,EFSC,WACL,MAAMC,EAAOX,EAdC,QAgBd,OAAIW,EACKA,EAAKC,SAEP,KEfQ,GAEbF,IACFH,EAASM,UAAY,aAAaH,aAGpC,MAAMI,EAAON,SAASC,cAAc,6BAC9BM,EAAUP,SAASC,cAAc,sBAEjCO,GADaR,SAASC,cAAc,eAC7BD,SAASC,cAAc,UAC9BQ,EAAQT,SAASC,cAAc,UAC/BS,EAAcV,SAASC,cAAc,gBAE3CK,EAAKK,iBAAiB,UAEtB,SAAoBC,GAClBA,EAAMC,iBAENN,EAAQF,UAAY,GAEpB,MAAMS,EAAYN,EAAKd,MAAMqB,OACvBC,EAAaC,WAAWR,EAAMf,OAC9BwB,EAAmBR,EAAYhB,MAAMqB,OAE3C,GACuB,IAArBD,EAAUK,QACY,IAAtBH,EAAWG,QACiB,IAA5BD,EAAiBC,QACjBC,MAAMJ,GAEN,OCnCmCK,EDoCjC,UCpC8CC,EDqC9C,2BCrCuDC,EDsCvD,0BCrCYvB,SAASC,cAAcsB,GAE/BlB,UAAY,uBAAuBgB,MAAgBC,WAH9C,IAAwBD,EAAaC,EAASC,GD6C7DC,eAA0BC,EAAMC,EAAOC,GACrC,MAAMC,EAAM,wDAENC,EAAOhC,KAAKiC,UAAU,CAC1BL,KAAMA,EACNC,MAAOA,EACPC,YAAaA,IAGTI,EAAQxC,IAERyC,EAAU,CACdC,OAAQ,OACRC,KAAML,EACNM,QAAS,CACP,eAAgB,mBAChBC,cAAe,UAAUL,MAI7B,IACE,MAAMM,QAAiBC,MAAMV,EAAKI,GAC5BO,QAAaF,EAASE,OAC5BC,QAAQC,IAAIF,GACZ,MAAOG,GACPF,QAAQC,IAAIC,IA5BdC,CAAW7B,EAAWE,EAAYE,MEnClClB,SAAS4C,eAAe,UAAUvC,UCNnB","sources":["js/localstorage/localstorage.js","js/api/api.js","components/adminPanelSection.js","components/common/displayMessage.js","pages/adminPanel.js","components/footer.js"],"sourcesContent":["const tokenKey = \"token\";\nconst userKey = \"user\";\n\nexport function saveToken(token) {\n  saveToStorage(token, tokenKey);\n}\nexport function getToken() {\n  return getFromStorage(tokenKey);\n}\n\nexport function saveUser(user) {\n  saveToStorage(userKey, user);\n}\n\nexport function getUsername() {\n  const user = getFromStorage(userKey);\n\n  if (user) {\n    return user.username;\n  }\n  return null;\n}\n\nexport function saveToStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport function getFromStorage(key) {\n  const value = localStorage.getItem(key);\n\n  if (!value) {\n    return [];\n  }\n  return JSON.parse(value);\n}\n","export const baseUrl = \"https://calm-hollows-27909.herokuapp.com/api\";\n","import { getUsername, getToken } from \"../js/localstorage/localstorage\";\nimport displayMessage from \"./common/displayMessage\";\nimport { baseUrl } from \"../js/api/api.js\";\nconst loggedIn = document.querySelector(\".logged-in\");\n\nconst username = getUsername();\n\nif (username) {\n  loggedIn.innerHTML = `<span>Hi, ${username}!</span>`;\n}\n\nconst form = document.querySelector(\".product-upload-container\");\nconst message = document.querySelector(\".message-container\");\nconst fileUpload = document.querySelector(\"#fileUpload\");\nconst name = document.querySelector(\"#name\");\nconst price = document.querySelector(\"#price\");\nconst description = document.querySelector(\"#description\");\n\nform.addEventListener(\"submit\", submitForm);\n\nfunction submitForm(event) {\n  event.preventDefault();\n\n  message.innerHTML = \"\";\n\n  const nameValue = name.value.trim();\n  const priceValue = parseFloat(price.value);\n  const descriptionValue = description.value.trim();\n\n  if (\n    nameValue.length === 0 ||\n    priceValue.length === 0 ||\n    descriptionValue.length === 0 ||\n    isNaN(priceValue)\n  ) {\n    return displayMessage(\n      \"warning\",\n      \"Please fill out the form\",\n      \".message-container\"\n    );\n  }\n\n  addProduct(nameValue, priceValue, descriptionValue);\n}\n\nasync function addProduct(name, price, description) {\n  const url = baseUrl + \"/products\";\n\n  const data = JSON.stringify({\n    name: name,\n    price: price,\n    description: description,\n  });\n\n  const token = getToken();\n\n  const options = {\n    method: \"POST\",\n    body: data,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  };\n\n  try {\n    const response = await fetch(url, options);\n    const json = await response.json();\n    console.log(json);\n  } catch (error) {\n    console.log(error);\n  }\n}\n","export default function displayMessage(messageType, message, targetElement) {\n  const element = document.querySelector(targetElement);\n\n  element.innerHTML = `<div class=\"message ${messageType}\">${message}</div>`;\n}\n","import \"../styles/global.scss\";\nimport \"../components/adminPanelSection.js\";\nimport \"../components/adminPanel.scss\";\nimport \"../components/common/display-message.scss\";\nimport Footer from \"../components/footer.js\";\nimport \"../components/footer.scss\";\nconst admin = () => {\n  document.getElementById(\"footer\").innerHTML = Footer();\n};\n\n// init admin\nadmin();\n","const Footer = () => {\n  const footer = `\n    <footer class=\"footer\">\n    <span> 2022 Â© Witness the fitness, all rights reserved.</span>\n    </footer>\n    `;\n  return footer;\n};\n\nexport default Footer;\n"],"names":["$3af418b4b19e1af7$export$257b2d10b709d8ef","$3af418b4b19e1af7$export$e4c9b9bae9539063","key","value","localStorage","getItem","JSON","parse","$98faaa0443601ff1$var$loggedIn","document","querySelector","$98faaa0443601ff1$var$username","user","username","innerHTML","$98faaa0443601ff1$var$form","$98faaa0443601ff1$var$message","$98faaa0443601ff1$var$name","$98faaa0443601ff1$var$price","$98faaa0443601ff1$var$description","addEventListener","event","preventDefault","nameValue","trim","priceValue","parseFloat","descriptionValue","length","isNaN","messageType","message","targetElement","async","name","price","description","url","data","stringify","token","options","method","body","headers","Authorization","response","fetch","json","console","log","error","$98faaa0443601ff1$var$addProduct","getElementById"],"version":3,"file":"adminPanel.3329f5cf.js.map"}